(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,a){e.exports=a(37)},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(21),i=a.n(o),r=(a(29),a(30),a(14)),c=a(11),l=a(2),u=a(3),h=a(5),d=a(4),m=a(9),p=a(6),g=(a(31),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).stateMachine=function(e){switch(e){case"user":a.setState({userCred:!0},function(){a.state.userCred&&a.Posting()});break;case"helpdesk":a.setState({helpDesk:!0},function(){a.state.helpDesk&&a.Posting()});break;case"admin":a.setState({adminRole:!0},function(){a.state.adminRole&&a.Posting()})}},a.Posting=function(){var e={userName:a.state.login,userPass:a.state.password,adminRole:a.state.adminRole,helpDesk:a.state.helpDesk,userCred:a.state.userCred};console.log(e),fetch("https:localhost:5001/api/Data/",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){e.length>0?(console.log(e),e[0].adminRole?(sessionStorage.setItem("permission","admin"),sessionStorage.setItem("currentuser",e[0].id),console.log(sessionStorage),a.setState({redirectPath:"admin"})):e[0].helpDesk?(sessionStorage.setItem("permission","helpdesk"),sessionStorage.setItem("currentuser",e[0].id),console.log(sessionStorage),a.setState({redirectPath:"helpdesk"}),console.log("helpdesklogin")):e[0].userCred?(sessionStorage.setItem("data","usercred"),sessionStorage.setItem("currentuser",e[0].id),console.log(sessionStorage),a.setState({redirectPath:"user"})):console.log("SOMETHING WENT WRONG SEE HAPPENED")):console.log("ultra messed up trigger")}).catch(function(e){console.log(e)})},a.state={login:"",password:"",uRole:"user",adminRole:!1,helpDesk:!1,userCred:!1,redirectPath:"/"},a.handleNamechange=a.handleNamechange.bind(Object(m.a)(a)),a.handlePasschange=a.handlePasschange.bind(Object(m.a)(a)),a.handleRolechange=a.handleRolechange.bind(Object(m.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleNamechange",value:function(e){this.setState({login:e.target.value}),console.log(this.state.login)}},{key:"handlePasschange",value:function(e){this.setState({password:e.target.value}),console.log(this.state.password)}},{key:"handleRolechange",value:function(e){this.setState({uRole:e.target.value}),console.log(e.target.value)}},{key:"handleSubmit",value:function(e){e.preventDefault(),console.log("click"),this.stateMachine(this.state.uRole)}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("h1",{id:"pageTitle"},"Please log in or sign up will occur automatically"),s.a.createElement("form",{className:"loginWrapper",onSubmit:this.handleSubmit},s.a.createElement("input",{type:"text",id:"login",placeholder:"username",value:this.state.login,onChange:this.handleNamechange}),s.a.createElement("input",{type:"password",id:"password",placeholder:"password",value:this.state.password,onChange:this.handlePasschange,required:!0}),s.a.createElement("input",{type:"submit",id:"lBtn",value:"Log In"}),s.a.createElement("select",{value:this.state.uRole,onChange:this.handleRolechange},s.a.createElement("option",{value:"user"},"User"),s.a.createElement("option",{value:"helpdesk"},"HelpDesk"),s.a.createElement("option",{value:"admin"},"Admin"))),s.a.createElement(c.a,{to:this.state.redirectPath}))}}]),t}(s.a.Component)),b=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).clearStorage=function(){sessionStorage.clear(),console.log(sessionStorage)},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.createElement(n.Fragment,null,n.createElement("h1",{id:"usertext"},"No permissions please log out"))}}]),t}(n.Component),f=(a(36),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={title:e.title?e.title:"",content:e.ogtext?e.ogtext:""},a.handleTTchange=a.handleTTchange.bind(Object(m.a)(a)),a.handleTicketchange=a.handleTicketchange.bind(Object(m.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleTicketchange",value:function(e){this.setState({content:e.target.value})}},{key:"handleTTchange",value:function(e){this.setState({title:e.target.value})}},{key:"handleDelete",value:function(e){if("admin"===sessionStorage.getItem("permission")){var t={id:this.props.id?this.props.id:0,content:this.state.content,tt:this.state.title,userID:Number(sessionStorage.getItem("currentuser"))};a="https:localhost:5001/api/Data/ticket/delete/".concat(Number(sessionStorage.getItem("currentuser"))),n=t,new Promise(function(e){fetch(a,{method:"DELETE",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then(function(){console.log("removed")}).catch(function(e){console.error(e)})}),window.location.reload(!0)}var a,n}},{key:"handleSubmit",value:function(e){var t=this;if("helpdesk"===sessionStorage.getItem("permission")||"admin"===sessionStorage.getItem("permission"))if(this.props.update){var a={id:this.props.id?this.props.id:0,content:this.state.content,tt:this.state.title,userID:Number(sessionStorage.getItem("currentuser"))};fetch("https:localhost:5001/api/Data/ticket/".concat(a.id),{method:"PUT",body:JSON.stringify(a),headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){console.log(e)})}else{var n={id:Number(sessionStorage.getItem("currentuser")),content:this.state.content,tt:this.state.title};fetch("https:localhost:5001/api/Data/ticket",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){console.log(e),t.setState({content:"",title:""})}).catch(function(e){console.log(e)}),console.log("authorized")}}},{key:"render",value:function(){return n.createElement("div",null,n.createElement("div",{className:"contentWrapper"},n.createElement("div",{id:"ticketnav"},n.createElement("input",{className:this.props.show,id:"TT",type:"text",placeholder:"Ticket Title",value:this.state.title,onChange:this.handleTTchange,required:!0}),n.createElement("h2",null,this.props.title),n.createElement("button",{className:this.props.othershow,id:"dBtn",onClick:this.handleDelete.bind(this)},"Delete")),n.createElement("form",{className:"helpdeskWrapper",onSubmit:this.handleSubmit},n.createElement("textarea",{maxLength:500,id:"box",value:this.state.content,onChange:this.handleTicketchange}),n.createElement("input",{type:"submit",id:"sBtn",value:"Submit Ticket"}))))}}]),t}(n.Component)),k=function(){return n.createElement(n.Fragment,null,n.createElement("h1",null,"Create Ticket"),n.createElement(f,{show:"show",othershow:"hide",update:!1}))},S=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).GrabData=function(){if(console.log(sessionStorage.getItem("currentuser")),"helpdesk"===sessionStorage.getItem("permission")){var e=Number(sessionStorage.getItem("currentuser"));fetch("https:localhost:5001/api/Data/ticket/".concat(e)).then(function(e){return e.json()}).then(function(e){a.setState({grabbedData:e}),console.log(a.state.grabbedData)}).catch(function(e){console.log(e)}),console.log("authorized")}else alert("unauthorized user")},a.state={grabbedData:[]},a.GrabData(),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.createElement(n.Fragment,null,n.createElement("h1",null,"My Tickets"),this.state.grabbedData.map(function(e){return n.createElement(f,{id:e.id,key:e.id,show:"hide",othershow:"hide",ogtext:e.content,title:e.tt,update:!0})}))}}]),t}(n.Component),v=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).displayCreate=function(){a.setState({createClicked:!0,createHide:"hide"})},a.displayUpdate=function(){a.setState({updateClicked:!0,updateHide:"hide"})},a.state={createClicked:!1,updateClicked:!1,createHide:"show",updateHide:"show"},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.createElement(n.Fragment,null,n.createElement("h2",{id:"pageTitle"},"HelpDesk DashBoard"),n.createElement("button",{onClick:this.displayCreate,className:this.state.createHide,id:"ctBtn"},"Create Ticket"),this.state.createClicked?n.createElement(k,null):null,n.createElement("button",{onClick:this.displayUpdate,className:this.state.updateHide,id:"ctBtn"},"update Ticket"),this.state.updateClicked?n.createElement(S,null):null)}}]),t}(n.Component),E=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).GrabData=function(){if(console.log(sessionStorage.getItem("currentuser")),"admin"===sessionStorage.getItem("permission")){var e=Number(sessionStorage.getItem("currentuser"));fetch("https:localhost:5001/api/Data/ticket/all/".concat(e)).then(function(e){return e.json()}).then(function(e){a.setState({grabbedData:e}),console.log(a.state.grabbedData)}).catch(function(e){console.log(e)}),console.log("authorized")}else alert("unauthorized user")},a.state={grabbedData:[]},a.GrabData(),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.createElement(n.Fragment,null,n.createElement("h1",null,"My Tickets"),this.state.grabbedData.map(function(e){return n.createElement(f,{id:e.id,key:e.id,show:"hide",othershow:"show",ogtext:e.content,title:e.tt,update:!0})}))}}]),t}(n.Component),j=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).clearStorage=function(){sessionStorage.clear(),console.log(sessionStorage)},a.displayUpdate=function(){a.setState({updateClicked:!0,updateHide:"hide"})},a.state={updateClicked:!1,updateHide:"show"},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.createElement(n.Fragment,null,n.createElement("h2",{id:"pageTitle"},"Admin DashBoard"),n.createElement("button",{onClick:this.displayUpdate,className:this.state.updateHide,id:"ctBtn"},"update Ticket"),this.state.updateClicked?n.createElement(E,null):null)}}]),t}(n.Component),O=function(){return s.a.createElement(r.a,null,s.a.createElement("div",null,s.a.createElement("nav",{className:"navbar fixed-top navbar-light"},s.a.createElement("a",{className:"navbar-brand",href:"#"},"HelpDesk"),s.a.createElement(r.b,{id:"logout",to:"/",onClick:function(){sessionStorage.clear(),console.log(sessionStorage)}},"logOut")),s.a.createElement(c.b,{exact:!0,path:"/",component:g}),s.a.createElement(c.b,{exact:!0,path:"/user",component:b}),s.a.createElement(c.b,{exact:!0,path:"/helpdesk",component:v}),s.a.createElement(c.b,{exact:!0,path:"/admin",component:j})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[24,1,2]]]);
//# sourceMappingURL=main.d8dc9eae.chunk.js.map